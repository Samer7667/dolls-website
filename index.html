<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <!-- Website Icon (Favicon) -->
<link rel="icon" href="tydools.jpg" type="image/jpeg">

<!-- Open Graph (Facebook, WhatsApp, LinkedIn preview) -->
<meta property="og:image" content="https://samer7667.github.io/dolls-website/tydools.jpg">
<meta property="og:title" content="Plush Doll Gallery">
<meta property="og:description" content="Save and organize your furry toys!">
<meta property="og:type" content="website">
<meta property="og:url" content="https://samer7667.github.io/dolls-website/">

<!-- Twitter Card preview -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Plush Doll Gallery">
<meta name="twitter:description" content="Save and organize your furry toys!">
<meta name="twitter:image" content="https://samer7667.github.io/dolls-website/tydools.jpg">

  <title>Ù…Ø¹Ø±Ø¶ Ø¯Ù…Ù‰ Ø§Ù„ÙØ±Ùˆ</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f9f9f9; }
    .header { text-align: center; padding: 20px; }
    .form-container { max-width: 500px; margin: auto; background: #fff; padding: 20px; border-radius: 8px; }
    .form-container input, .form-container textarea { width: 100%; margin: 5px 0; padding: 8px; }
    .doll-list { display: flex; flex-wrap: wrap; justify-content: center; margin-top: 20px; }
    .doll-card { background: #fff; margin: 10px; padding: 10px; border-radius: 8px; width: 200px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
    .doll-card img {
  max-width: 100%;
  max-height: 150px;
  object-fit: cover;
  border-radius: 4px;
}
    .language-select { margin-top: 10px; }
    .image-row {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      flex-wrap: wrap;
    }
    .logo-img {
      width: 140px;
      height: 140px;
      object-fit: cover;
      border-radius: 50%;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      border: 3px solid #fff;
    }
    .square-img {
      max-width: 300px;
      height: 140px;
      object-fit: contain;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      border: 3px solid #fff;
    }
    body[dir="ltr"] .form-container,
    body[dir="ltr"] .doll-list { text-align: left; }
    body[dir="rtl"] .form-container,
    body[dir="rtl"] .doll-list { text-align: right; }
    @media (max-width: 600px) {
  .image-row {
    flex-direction: column;
    gap: 10px;
  }

  .form-container {
    width: 90%;
  }

  .doll-card {
    width: 90%;
  }
}

  </style>
</head>
<body>

<div class="header">
  <h1 id="pageTitle">...........</h1>
<span id="dollCounter" style="font-size:16px; color:gray;">Ø¹Ø¯Ø¯ Ø§Ù„Ø¯Ù…Ù‰: 0</span>
  <div class="image-row">
    <img src="logo.png" alt="Logo" class="logo-img">
    <img src="HAPPY-BIRTHDAY-JONATHAN.jpg" 
     alt="Example" 
     class="square-img" 
     id="exampleImage" 
     onclick="triggerExampleUpload()" 
     style="cursor: pointer;">

<input type="file" 
       id="exampleImageInput" 
       accept="image/*" 
       style="display: none;" 
       onchange="changeExampleImage(event)">

<button onclick="resetExampleImage()">â™»ï¸</button>

  </div>
  <h1 id="title">Ù…Ø¹Ø±Ø¶ Ø¯Ù…Ù‰ Ø§Ù„ÙØ±Ùˆ</h1>
  <input type="text" id="searchBox" placeholder="ğŸ”" oninput="searchDolls()" style="padding:8px; margin-top:10px; width:80%; max-width:300px; border-radius:6px; border:1px solid #ccc;">
  <select id="language" class="language-select">
    <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
    <option value="en">English</option>
    <option value="es">EspaÃ±ol</option>
  </select>
</div>

<div class="form-container">
    <div id="curtain" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
background: rgba(0,0,0,0.6); justify-content: center; align-items: center; z-index: 9999;">
  <div style="background: white; padding: 30px; border-radius: 12px; min-width: 300px; text-align: center; position: relative;">
    <button onclick="toggleCurtain()" style="position: absolute; top: 10px; right: 10px; background: red; color: white; border: none; font-size: 16px; border-radius: 50%;">âŒ</button>
    <h3 id="advancedTitle">âš™ï¸ Ø£Ø¯ÙˆØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©</h3>
    <button onclick="clearAll()" id="clearAllBtn">ğŸ—‘ï¸</button>
    <button onclick="exportDolls()" id="exportBtn">ğŸ’¾</button>
    <input type="file" id="importFile" accept="application/json" style="display: none;" onchange="importDolls(event)" />
    <button onclick="document.getElementById('importFile').click()" id="importBtn">ğŸ“¥</button>
  </div>
</div>
    <button id="advancedOptionsBtn" onclick="toggleCurtain()">âš™ï¸ Ø®ÙŠØ§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©</button>
  <h2 id="formTitle">Ø£Ø¶Ù Ø¯Ù…ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©</h2>
  <input type="text" id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¯Ù…ÙŠØ©" />
  <input type="date" id="birthday" placeholder="ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯" />
  <input type="number" id="year" placeholder="Ø³Ù†Ø© Ø§Ù„Ø¥ØµØ¯Ø§Ø±" />
  <textarea id="poem" placeholder="Ø§Ù„Ù‚ØµÙŠØ¯Ø©"></textarea>
  <input type="file" id="image" accept="image/*" />
  <button onclick="addDoll()" id="addBtn">Ø¥Ø¶Ø§ÙØ©</button>
</div>

<div class="doll-list" id="dollList"></div>

<script>
const translationsUI = {
  title: {
    ar: "Ù…Ø¹Ø±Ø¶ Ø¯Ù…Ù‰ Ø§Ù„ÙØ±Ùˆ",
    en: "Plush Doll Gallery",
    es: "GalerÃ­a de muÃ±ecos de felpa"
  },
  formTitle: {
    ar: "Ø£Ø¶Ù Ø¯Ù…ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©",
    en: "Add New Doll",
    es: "Agregar nueva muÃ±eca"
  },
  name: {
    ar: "Ø§Ø³Ù… Ø§Ù„Ø¯Ù…ÙŠØ©",
    en: "Doll Name",
    es: "Nombre de la muÃ±eca"
  },
  birthday: {
    ar: "ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯",
    en: "Birthday",
    es: "CumpleaÃ±os"
  },
  year: {
    ar: "Ø³Ù†Ø© Ø§Ù„Ø¥ØµØ¯Ø§Ø±",
    en: "Release Year",
    es: "AÃ±o de lanzamiento"
  },
  poem: {
    ar: "Ø§Ù„Ù‚ØµÙŠØ¯Ø©",
    en: "Poem",
    es: "Poema"
  },
  addBtn: {
    ar: "Ø¥Ø¶Ø§ÙØ©",
    en: "Add",
    es: "Agregar"
  },
  deleteBtn: {
    ar: "Ø­Ø°Ù",
    en: "Delete",
    es: "Eliminar"
  },
  editBtn: {
    ar: "ØªØ¹Ø¯ÙŠÙ„",
    en: "Edit",
    es: "Editar"
  },
  alertFillFields: {
    ar: "ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ ÙˆØ¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø©.",
    en: "Please fill in all fields and add an image.",
    es: "Por favor, complete todos los campos y agregue una imagen."
  },
  alertEditInfo: {
    ar: "ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø«Ù… Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø¥Ø¶Ø§ÙØ© Ù„Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„.",
    en: "You can now edit the fields and click Add to save changes.",
    es: "Ahora puedes editar los campos y hacer clic en Agregar para guardar los cambios."
  },
  confirmDelete: {
    ar: "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ",
    en: "Are you sure you want to delete?",
    es: "Â¿EstÃ¡s seguro de que quieres eliminarlo?"
  },
  clearAllBtn: {
  ar: "Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„",
  en: "Clear All",
  es: "Borrar todo"
},
importBtn: {
  ar: "Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©",
  en: "Import Backup",
  es: "Importar Respaldo"
},
exportBtn: {
  ar: "Ø­ÙØ¸ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©",
  en: "Export Backup",
  es: "Guardar Respaldo"
},
advancedOptionsBtn: {
  ar: "Ø®ÙŠØ§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©",
  en: "Advanced Options",
  es: "Opciones Avanzadas"
},
advancedCurtainTitle: {
  ar: "âš™ï¸ Ø£Ø¯ÙˆØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©",
  en: "âš™ï¸ Advanced Tools",
  es: "âš™ï¸ Herramientas Avanzadas"
},
importSuccess: {
  ar: "âœ… ØªÙ… Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨Ù†Ø¬Ø§Ø­!",
  en: "âœ… Import successful!",
  es: "âœ… Â¡ImportaciÃ³n exitosa!"
},
invalidFile: {
  ar: "âŒ Ø§Ù„Ù…Ù„Ù ØºÙŠØ± ØµØ§Ù„Ø­.",
  en: "âŒ Invalid file.",
  es: "âŒ Archivo no vÃ¡lido."
},
importError: {
  ar: "âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù.",
  en: "âŒ An error occurred while reading the file.",
  es: "âŒ OcurriÃ³ un error al leer el archivo."
},
dollCounterLabel: {
  ar: "Ø¹Ø¯Ø¯ Ø§Ù„Ø¯Ù…Ù‰",
  en: "Total Dolls",
  es: "Total de muÃ±ecos"
}




};

// Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©ØŒ Ø§Ø³ØªØ±Ø¬Ø¹ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø£Ùˆ Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ "ar"
let language = localStorage.getItem('selectedLanguage') || 'ar';
document.getElementById('language').value = language;

let editMode = false;
let editIndex = null;

// ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø£ÙˆÙ„ Ù…Ø§ ØªÙØªØ­ Ø§Ù„ØµÙØ­Ø©
updateUI();
displayDolls();
updateCounter();

function updateUI() {
  document.getElementById('title').textContent = translationsUI.title[language];
  document.getElementById('formTitle').textContent = translationsUI.formTitle[language];
  document.getElementById('name').placeholder = translationsUI.name[language];
  document.getElementById('birthday').placeholder = translationsUI.birthday[language];
  document.getElementById('year').placeholder = translationsUI.year[language];
  document.getElementById('poem').placeholder = translationsUI.poem[language];
  document.getElementById('addBtn').textContent = translationsUI.addBtn[language];
  document.body.dir = (language === 'ar') ? 'rtl' : 'ltr';
  document.documentElement.lang = language;
  document.getElementById('clearAllBtn').innerHTML = `ğŸ—‘ï¸ ${translationsUI.clearAllBtn[language]}`;
  document.getElementById('exportBtn').innerHTML = `ğŸ’¾ ${translationsUI.exportBtn[language]}`;
document.getElementById('importBtn').innerHTML = `ğŸ“¥ ${translationsUI.importBtn[language]}`;
document.getElementById('advancedOptionsBtn').textContent = `âš™ï¸ ${translationsUI.advancedOptionsBtn[language]}`;
document.getElementById('advancedTitle').textContent = translationsUI.advancedCurtainTitle[language];

}

// Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©ØŒ Ø§Ø­ÙØ¸Ù‡Ø§ ÙÙŠ localStorage
document.getElementById('language').addEventListener('change', function () {
  language = this.value;
  localStorage.setItem('selectedLanguage', language); // Ø­ÙØ¸ Ø§Ù„Ù„ØºØ©
  updateUI();
  displayDolls();
});

function addDoll() {
  const name = document.getElementById('name').value;
  const birthday = document.getElementById('birthday').value;
  const year = document.getElementById('year').value;
  const poem = document.getElementById('poem').value;
  const imageInput = document.getElementById('image');

  if (!name || !birthday || !year || !poem || (!editMode && !imageInput.files[0])) {
    alert(translationsUI.alertFillFields[language]);
    return;
  }

  const saveDoll = (image) => {
    const doll = { name, birthday, year, poem, image };
    const dolls = JSON.parse(localStorage.getItem('dolls') || '[]');

    if (editMode) {
      dolls[editIndex] = doll;
      editMode = false;
      editIndex = null;
    } else {
      dolls.push(doll);
    }

    localStorage.setItem('dolls', JSON.stringify(dolls));
    displayDolls();
    document.getElementById('name').value = '';
    document.getElementById('birthday').value = '';
    document.getElementById('year').value = '';
    document.getElementById('poem').value = '';
    document.getElementById('image').value = '';
    document.getElementById('addBtn').textContent = translationsUI.addBtn[language];
  };

  if (imageInput.files[0]) {
    const reader = new FileReader();
    reader.onload = function (e) {
      saveDoll(e.target.result);
    };
    reader.readAsDataURL(imageInput.files[0]);
  } else {
    const dolls = JSON.parse(localStorage.getItem('dolls') || '[]');
    const oldImage = dolls[editIndex].image;
    saveDoll(oldImage);
  }
}

function displayDolls() {
  const dolls = JSON.parse(localStorage.getItem('dolls') || '[]');
  const list = document.getElementById('dollList');
  list.innerHTML = '';

  dolls.forEach((doll, index) => {
    const card = document.createElement('div');
    card.className = 'doll-card';
    card.innerHTML = `
      <img src="${doll.image}">
      <h3>${doll.name}</h3>
      <p><strong>${translate('Birthday')}:</strong> ${doll.birthday}</p>
      <p><strong>${translate('Year')}:</strong> ${doll.year}</p>
      <p>${doll.poem}</p>
      <button onclick="deleteDoll(${index})">ğŸ—‘ï¸ ${translationsUI.deleteBtn[language]}</button>
      <button onclick="editDoll(${index})">âœï¸ ${translationsUI.editBtn[language]}</button>
    `;
    list.appendChild(card);
  });
  updateCounter(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø¨Ø¹Ø¯ Ø¹Ø±Ø¶ Ø§Ù„Ø¯Ù…Ù‰
}

function updateTitle() {
  document.getElementById('pageTitle').textContent = translationsUI.pageTitle[language];
}

function updateCounter() {
  const dolls = JSON.parse(localStorage.getItem('dolls') || '[]');
  document.getElementById('dollCounter').textContent =
    `${translationsUI.dollCounterLabel[language]}: ${dolls.length}`;
}




function translate(word) {
  const translations = {
    'Birthday': { ar: 'ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯', en: 'Birthday', es: 'CumpleaÃ±os' },
    'Year': { ar: 'Ø³Ù†Ø© Ø§Ù„Ø¥ØµØ¯Ø§Ø±', en: 'Release Year', es: 'AÃ±o de lanzamiento' }
  };
  return translations[word][language];
}

function deleteDoll(index) {
  if (confirm(translationsUI.confirmDelete[language])) {
    const dolls = JSON.parse(localStorage.getItem('dolls') || '[]');
    dolls.splice(index, 1);
    localStorage.setItem('dolls', JSON.stringify(dolls));
    displayDolls();
  }
}

function editDoll(index) {
  const dolls = JSON.parse(localStorage.getItem('dolls') || '[]');
  const doll = dolls[index];

  document.getElementById('name').value = doll.name;
  document.getElementById('birthday').value = doll.birthday;
  document.getElementById('year').value = doll.year;
  document.getElementById('poem').value = doll.poem;
  document.getElementById('image').value = '';

  editMode = true;
  editIndex = index;
  document.getElementById('addBtn').textContent = translationsUI.editBtn[language];
  alert(translationsUI.alertEditInfo[language]);
}

function clearAll() {
  if (confirm(translationsUI.confirmDelete[language])) {
    localStorage.removeItem('dolls');
    displayDolls();
  }
}
function exportDolls() {
  const dolls = localStorage.getItem('dolls') || '[]';
  const blob = new Blob([dolls], { type: "application/json" });
  const url = URL.createObjectURL(blob);
  
  const a = document.createElement("a");
  a.href = url;
  a.download = "dolls-backup.json";
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
}
function importDolls(event) {
  const file = event.target.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = function(e) {
    try {
      const dolls = JSON.parse(e.target.result);
      if (Array.isArray(dolls)) {
        localStorage.setItem('dolls', JSON.stringify(dolls));
        displayDolls();
        alert(translationsUI.importSuccess[language]);
      } else {
        alert(translationsUI.invalidFile[language]);
      }
    } catch (err) {
      alert(translationsUI.importError[language]);
    }
  };
  reader.readAsText(file);
}


updateUI();
displayDolls();
updateCounter();
function toggleCurtain() {
  const curtain = document.getElementById("curtain");
  curtain.style.display = (curtain.style.display === "none") ? "flex" : "none";
}
function triggerExampleUpload() {
  document.getElementById('exampleImageInput').click();
}

// Ø¯Ø§Ù„Ø© Ù„ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø© ÙˆØ­ÙØ¸Ù‡Ø§
function changeExampleImage(event) {
  const file = event.target.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = function(e) {
    const imageData = e.target.result;
    document.getElementById('exampleImage').src = imageData;
    localStorage.setItem('exampleImage', imageData); // Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ localStorage
  };
  reader.readAsDataURL(file);
}

// Ø¯Ø§Ù„Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© ÙˆØ­Ø°Ù Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
function resetExampleImage() {
  document.getElementById('exampleImage').src = "HAPPY-BIRTHDAY-JONATHAN.jpg";
  localStorage.removeItem('exampleImage');
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
const savedExampleImage = localStorage.getItem('exampleImage');
if (savedExampleImage) {
  document.getElementById('exampleImage').src = savedExampleImage;
}

function searchDolls() {
  const query = document.getElementById('searchBox').value.toLowerCase();
  const dolls = JSON.parse(localStorage.getItem('dolls') || '[]');
  const list = document.getElementById('dollList');
  list.innerHTML = '';

  dolls
    .filter(doll => doll.name.toLowerCase().includes(query))
    .forEach((doll, index) => {
      const card = document.createElement('div');
      card.className = 'doll-card';
      card.innerHTML = `
        <img src="${doll.image}">
        <h3>${doll.name}</h3>
        <p><strong>${translate('Birthday')}:</strong> ${doll.birthday}</p>
        <p><strong>${translate('Year')}:</strong> ${doll.year}</p>
        <p>${doll.poem}</p>
        <button onclick="deleteDoll(${index})">ğŸ—‘ï¸ ${translationsUI.deleteBtn[language]}</button>
        <button onclick="editDoll(${index})">âœï¸ ${translationsUI.editBtn[language]}</button>
      `;
      list.appendChild(card);
    });
}


</script>

</body>
</html>